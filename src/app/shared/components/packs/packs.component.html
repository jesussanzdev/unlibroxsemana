<div class="packs">
  @for (pack of packs; track pack) {
    <div class="packs__pack">
      <img [src]="pack.image" alt="{{ pack.title }}" class="packs__pack__img">
      <h2>{{ pack.title }}</h2>
      <p>{{ pack.shortDescription }}</p>
      <button class="packs__pack__open-btn" (click)="openPack(pack)">Ver libros</button>
    </div>
  }
</div>

<!-- Modal overlay -->
@if (selectedPack) {
  <div class="modal-backdrop" (click)="closePack()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button class="close-btn" (click)="closePack()">✕</button>

      <h2>{{ selectedPack.title }}</h2>
      <p>{{ selectedPack.description }}</p>

      <div class="roadmap">
        @for (book of selectedPack.books; track book) {
          <div class="roadmap__book-card">
            <img [src]="book.image" (error)="onImageError($event)" alt="{{ book.title }}">
            <h3>{{ book.title }}</h3>
            <p>{{ book.author }}</p>
            <small>{{ book.pages }} páginas</small> <br/>
            <div>
              <a [href]="book.link" target="_blank" rel="noopener noreferrer">Comprar</a>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
}